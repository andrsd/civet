{% extends "ci/base.html" %}
{% load humanize %}
{% block title %}Civet: PRs{% endblock %}
{% block content %}
<div class="center">
  <h2>Pull requests</h2>
</div>

{% if prs %}
  <table class="table table-hover table-bordered table-condensed">
    <thead>
    <tr>
      <th>Repository</th>
      <th>Title</th>
      <th>Closed</th>
      <th>Last Modified</th>
      <th>Created</th>
    </tr>
    </thead>
    <tbody>
    {% for pr in prs %}
      <tr>
        <td>
          <a href="{% url "ci:view_repo" pr.repository.pk %}">{{ pr.repository }}</a>
          <a href="{{ pr.repository.server.git_html_url }}"><i class="{{ pr.repository.server.icon_class }}"></i></a>
        </td>
        <td>
          <a href="{% url "ci:view_pr" pr.pk %}">#{{ pr.number }}: {{ pr.title }}</a>
          <a href="{{ pr.url }}"><i class="{{ pr.repository.server.icon_class }}"></i></a>
        </td>
        <td class="job_status_{{ pr.status_slug }}">{{ pr.closed }}</td>
        <td>{{ pr.last_modified |naturaltime }}</td>
        <td>{{ pr.created|naturaltime }}</td>
      </tr>
    </tbody>
    {% endfor %}
  </table>
  <div class="center">
    {% include "ci/page_handler.html" with objs=prs %}
  </div>
{% else %}
  No Pull Requests
{% endif %}
{% endblock %}
